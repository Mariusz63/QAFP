@model QAFPForm.Models.FormSubmission
@{
    ViewData["Title"] = "Zgłoszenie uczestnictwa QAFP";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<link rel="stylesheet" href="~/css/qafp-form.css" />

<!-- ===================== Nagłówek dokumentu ===================== -->

<div class="container-custom mt-4">

    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
        <div style="text-align: left;">
            <h1 class="print-title" style="margin: 0; font-weight: bold;">
                ZGŁOSZENIE UCZESTNICTWA<br />W SYSTEMIE JAKOŚCI ŻYWNOŚCI QAFP
            </h1>
        </div>
        <img src="~/images/logoQAFP.png" alt="Logo QAFP" style="max-height: 140px; width: auto;" />
    </div>

    <!-- ===================== Formularz zgłoszeniowy ===================== -->
    <form asp-action="Submit" method="post" class="container-custom">
        @Html.AntiForgeryToken()

        <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

        <!-- ===================== I. Dane przedsiębiorstwa ===================== -->
        <h4 class="section-header">I. DANE PRZEDSIĘBIORSTWA LUB GOSPODARSTWA ROLNEGO </h4>
        <div class="form-row mb-3">
            <div class="col-50">
                <label asp-for="Nazwisko" class="form-label-custom">Nazwisko / Nazwa:</label>
                <input asp-for="Nazwisko" class="form-control-custom" />
                <span asp-validation-for="Nazwisko" class="text-danger"></span>
            </div>
            <div class="col-50">
                <label asp-for="Imie" class="form-label-custom">Imię:</label>
                <input asp-for="Imie" class="form-control-custom" />
                <span asp-validation-for="Imie" class="text-danger"></span>
            </div>
        </div>

        <div class="form-row mb-3">
            <div class="col-50">
                <label asp-for="Telefon" class="form-label-custom">Numer telefonu:</label>
                <input asp-for="Telefon" class="form-control-custom" />
                <span asp-validation-for="Telefon" class="text-danger"></span>
            </div>
            <div class="col-50">
                <label asp-for="Email" class="form-label-custom">Adres e-mail:</label>
                <input asp-for="Email" class="form-control-custom" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>

        <div class="form-row mb-3">
            <div class="col-50">
                <label asp-for="Pesel" class="form-label-custom">PESEL:</label>
                <input asp-for="Pesel" class="form-control-custom" />
                <span asp-validation-for="Pesel" class="text-danger"></span>
            </div>
            <div class="col-50">
                <label asp-for="Regon" class="form-label-custom">REGON:</label>
                <input asp-for="Regon" class="form-control-custom" />
                <span asp-validation-for="Regon" class="text-danger"></span>
            </div>
        </div>

        <div class="mb-3">
            <label asp-for="Nip" class="form-label-custom">NIP:</label>
            <input asp-for="Nip" class="form-control-custom" />
            <span asp-validation-for="Nip" class="text-danger"></span>
        </div>

        <!-- ===================== II. Adres ===================== -->
        <h4 class="section-header">II. ADRES</h4>
        <!-- Adres siedziby -->
        <h5>Adres siedziby</h5>
        <div class="address-section mb-3">
            <div>
                <label asp-for="AdresSiedziba.Ulica">Ulica:</label>
                <input asp-for="AdresSiedziba.Ulica" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Ulica" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.NrDomu">Nr domu:</label>
                <input asp-for="AdresSiedziba.NrDomu" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.NrDomu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.NrLokalu">Nr lokalu:</label>
                <input asp-for="AdresSiedziba.NrLokalu" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.NrLokalu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.KodPocztowy">Kod pocztowy:</label>
                <input asp-for="AdresSiedziba.KodPocztowy" class="form-control-custom" placeholder="00-000" />
                <span asp-validation-for="AdresSiedziba.KodPocztowy" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.Miejscowosc">Miejscowość:</label>
                <input asp-for="AdresSiedziba.Miejscowosc" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Miejscowosc" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.Gmina">Gmina:</label>
                <input asp-for="AdresSiedziba.Gmina" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Gmina" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.Powiat">Powiat:</label>
                <input asp-for="AdresSiedziba.Powiat" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Powiat" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.Wojewodztwo">Województwo:</label>
                <input asp-for="AdresSiedziba.Wojewodztwo" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Wojewodztwo" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresSiedziba.Kraj">Kraj:</label>
                <input asp-for="AdresSiedziba.Kraj" class="form-control-custom" />
                <span asp-validation-for="AdresSiedziba.Kraj" class="text-danger"></span>
            </div>
        </div>
        <!-- Adres zakładu -->

        <h5>Adres zakładu</h5>
        <div class="address-section mb-3">
            <div>
                <label asp-for="AdresZaklad.Ulica">Ulica:</label>
                <input asp-for="AdresZaklad.Ulica" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Ulica" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.NrDomu">Nr domu:</label>
                <input asp-for="AdresZaklad.NrDomu" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.NrDomu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.NrLokalu">Nr lokalu:</label>
                <input asp-for="AdresZaklad.NrLokalu" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.NrLokalu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.KodPocztowy">Kod pocztowy:</label>
                <input asp-for="AdresZaklad.KodPocztowy" class="form-control-custom" placeholder="00-000" />
                <span asp-validation-for="AdresZaklad.KodPocztowy" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.Miejscowosc">Miejscowość:</label>
                <input asp-for="AdresZaklad.Miejscowosc" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Miejscowosc" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.Gmina">Gmina:</label>
                <input asp-for="AdresZaklad.Gmina" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Gmina" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.Powiat">Powiat:</label>
                <input asp-for="AdresZaklad.Powiat" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Powiat" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.Wojewodztwo">Województwo:</label>
                <input asp-for="AdresZaklad.Wojewodztwo" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Wojewodztwo" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresZaklad.Kraj">Kraj:</label>
                <input asp-for="AdresZaklad.Kraj" class="form-control-custom" />
                <span asp-validation-for="AdresZaklad.Kraj" class="text-danger"></span>
            </div>
        </div>


        <!-- Adres korespondencji -->
        <h5>Adres korespondencji</h5>
        <div class="address-section mb-3">
            <div>
                <label asp-for="AdresKorespondencja.Ulica">Ulica:</label>
                <input asp-for="AdresKorespondencja.Ulica" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Ulica" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.NrDomu">Nr domu:</label>
                <input asp-for="AdresKorespondencja.NrDomu" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.NrDomu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.NrLokalu">Nr lokalu:</label>
                <input asp-for="AdresKorespondencja.NrLokalu" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.NrLokalu" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.KodPocztowy">Kod pocztowy:</label>
                <input asp-for="AdresKorespondencja.KodPocztowy" class="form-control-custom" placeholder="00-000" />
                <span asp-validation-for="AdresKorespondencja.KodPocztowy" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.Miejscowosc">Miejscowość:</label>
                <input asp-for="AdresKorespondencja.Miejscowosc" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Miejscowosc" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.Gmina">Gmina:</label>
                <input asp-for="AdresKorespondencja.Gmina" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Gmina" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.Powiat">Powiat:</label>
                <input asp-for="AdresKorespondencja.Powiat" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Powiat" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.Wojewodztwo">Województwo:</label>
                <input asp-for="AdresKorespondencja.Wojewodztwo" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Wojewodztwo" class="text-danger"></span>
            </div>
            <div>
                <label asp-for="AdresKorespondencja.Kraj">Kraj:</label>
                <input asp-for="AdresKorespondencja.Kraj" class="form-control-custom" />
                <span asp-validation-for="AdresKorespondencja.Kraj" class="text-danger"></span>
            </div>
        </div>


        <!-- ===================== III. Rodzaj działalności ===================== -->
        <h4 class="section-header">III. RODZAJ DZIAŁALNOŚCI*</h4>
        <div class="rodzaj-dzialalnosci-table">

            <div class="rd-cell">
                <label class="rd-label">
                    Produkcja zwierzęca
                    <input asp-for="ProdukcjaZwierzeca" type="checkbox" class="rd-checkbox">
                </label>
            </div>

            <div class="rd-cell">
                <label class="rd-label">
                    Ubój
                    <input asp-for="Uboj" type="checkbox" class="rd-checkbox">
                </label>
            </div>

            <div class="rd-cell">
                <label class="rd-label">
                    Rozbiór
                    <input asp-for="Rozbior" type="checkbox" class="rd-checkbox">
                </label>
            </div>

            <div class="rd-cell">
                <label class="rd-label">
                    Przetwórstwo
                    <input asp-for="Przetworstwo" type="checkbox" class="rd-checkbox">
                </label>
            </div>

            <div class="rd-cell">
                <label class="rd-label">
                    Produkcja konserw
                    <input asp-for="ProdukcjaKonserw" type="checkbox" class="rd-checkbox">
                </label>
            </div>

            <div class="rd-cell">
                <label class="rd-label">
                    Dystrybucja
                    <input asp-for="Dystrybucja" type="checkbox" class="rd-checkbox">
                </label>
            </div>

        </div>

        <!-- ===================== IV. Zakres produkcji ===================== -->

        <h4 class="section-header">IV. ZAKRES PRODUKCJI ZGŁASZANEJ DO SYSTEMU QAFP </h4>
        <div class="mb-3 confirm-box p-2">
            <div class="d-flex-custom gap-4">
                <div class="form-check-custom">
                    <input asp-for="ZakresProdukcji" value="Calosc" class="form-check-input-custom" type="radio" />
                    <label class="form-check-label">CAŁOŚĆ</label>
                </div>

                <div class="d-flex-custom gap-3">
                    <div class="form-check-custom">
                        <input asp-for="ZakresProdukcji" value="Czesc" class="form-check-input-custom" type="radio" />
                        <label class="form-check-label">CZĘŚĆ STANOWIĄCA</label>
                    </div>

                    <input asp-for="ProcentProdukcji" class="form-control-custom percent-input" />
                    <span>%</span>
                </div>
            </div>
            <span asp-validation-for="ZakresProdukcji" class="text-danger"></span>
            <span asp-validation-for="ProcentProdukcji" class="text-danger"></span>
        </div>

        <!-- ===================== V. Obiekty i działki ===================== -->

        <h4 class="section-header">V. OBIEKT I DZIAŁKI ROLNE *</h4>
        <div class="obiekty-dzialki-table mb-3">
            <div class="od-header od-rowspan-2">
                Obiekty <input asp-for="Obiekty" type="checkbox" class="od-checkbox" />
            </div>
            <div class="od-cell">
                <label class="od-label">
                    produkcyjne
                    <input asp-for="Produkcyjne" type="checkbox" class="od-checkbox" />
                </label>
            </div>
            <div class="od-cell">
                <label class="od-label">
                    magazynowe
                    <input asp-for="Magazynowe" type="checkbox" class="od-checkbox" />
                </label>
            </div>
            <div class="od-cell">
                <label class="od-label">
                    oczyszczalnie ścieków
                    <input asp-for="Oczyszczalnie" type="checkbox" class="od-checkbox" />
                </label>
            </div>
            <div class="od-cell">
                <label class="od-label">
                    magazynowanie/utylizacja odpadów
                    <input asp-for="Odpady" type="checkbox" class="od-checkbox" />
                </label>
            </div>

            <div class="od-header">
                Działki <input asp-for="Dzialki" type="checkbox" class="od-checkbox" />
            </div>

            <div class="od-cell text-center">
                całkowita pow.(produkcyjne + magazynowe)
                <input asp-for="CalkowitaPow" class="form-control-custom w-80 centered-input" />
                <span asp-validation-for="CalkowitaPow" class="text-danger small"></span>
            </div>

            <div class="od-cell text-center">
                pow. UR
                <input asp-for="PowierzchniaUR" class="form-control-custom w-80 centered-input" />
                <span asp-validation-for="PowierzchniaUR" class="text-danger small"></span>
            </div>
        </div>

        <!-- ===================== VI. Rodzaj i wielkość produkcji ===================== -->


        <h4 class="section-header">VI. RODZAJ I WIELKOŚĆ PRODUKCJI</h4>

        <div id="produkcje-list">
            @for (int i = 0; i < Model.Produkcje.Count; i++)
            {
                <div class="produkcja-item mb-2" style="display: flex; align-items: flex-start; gap: 10px;">

                    <div style="flex: 2;">
                        <label asp-for="@Model.Produkcje[i].RodzajProdukcjiOpis" class="form-label-custom">Rodzaj produkcji:</label>
                        <input asp-for="@Model.Produkcje[i].RodzajProdukcjiOpis" class="form-control-custom" />
                        <span asp-validation-for="@Model.Produkcje[i].RodzajProdukcjiOpis" class="text-danger"></span>
                    </div>

                    <div style="flex: 1;">
                        <label asp-for="@Model.Produkcje[i].WielkoscProdukcji" class="form-label-custom">Wielkość produkcji (rocznie):</label>
                        <input asp-for="@Model.Produkcje[i].WielkoscProdukcji" class="form-control-custom" />
                        <span asp-validation-for="@Model.Produkcje[i].WielkoscProdukcji" class="text-danger"></span>
                    </div>

                    <div style="display: flex; flex-direction: column; justify-content: flex-end;">
                        <button type="button" class="btn btn-danger btn-sm remove-produkcja" style="margin-top: 24px;">Usuń</button>
                    </div>

                </div>
            }
        </div>

        <button type="button" id="add-produkcja" class="btn btn-primary btn-sm mt-2">Dodaj produkcję</button>


        <!-- ===================== VII. Podzlecanie działań ===================== -->

        <h4 class="section-header">VII. PODZLECANIE DZIAŁAŃ </h4>
        <div class="mb-2 d-flex-custom gap-4">
            <div class="form-check-custom">
                <input asp-for="Podzlecanie" value="true" class="form-check-input-custom" type="radio" />
                <label class="form-check-label">Tak</label>
            </div>
            <div class="form-check-custom">
                <input asp-for="Podzlecanie" value="false" class="form-check-input-custom" type="radio" />
                <label class="form-check-label">Nie</label>
            </div>
        </div>
        <span asp-validation-for="Podzlecanie" class="text-danger"></span>

        <div class="mb-3">
            <label asp-for="RodzajPodzlecanych" class="form-label-custom">Rodzaj podzlecanych działań:</label>
            <input asp-for="RodzajPodzlecanych" class="form-control-custom" />
            <span asp-validation-for="RodzajPodzlecanych" class="text-danger"></span>
        </div>

        <!-- ===================== VIII. Transport ===================== -->

        <h5 class="section-header">VIII. TRANSPORT</h5>
        <div class="mb-3 d-flex-custom gap-4">
            <div class="form-check-custom">
                <input asp-for="Transport" value="Wlasny" class="form-check-input-custom" type="radio" />
                <label class="form-check-label">Własny</label>
            </div>
            <div class="form-check-custom">
                <input asp-for="Transport" value="Zewnetrzny" class="form-check-input-custom" type="radio" />
                <label class="form-check-label">Zewnętrzny</label>
            </div>
        </div>
        <span asp-validation-for="Transport" class="text-danger"></span>

        <!-- ===================== IX. Opis procesu ===================== -->

        <h4 class="section-header">IX. OPIS PROCESU PRODUKCJI / GOSPODARSTWA </h4>
        <div class="mb-3">
            <textarea asp-for="OpisProcesu" class="form-control-custom" rows="5"></textarea>
            <span asp-validation-for="OpisProcesu" class="text-danger"></span>
        </div>

        <!-- ===================== X. Jednostka certyfikująca ===================== -->

        <h4 class="section-header">X. JEDNOSTKA CERTYFIKUJĄCA </h4>
        <div class="mb-3">
            <select asp-for="JednostkaCertyfikujaca" class="form-select-custom">
                <option value="">-- Wybierz jednostkę --</option>
                <option value="AgroEko">Centrum Jakości AgroEko Sp. z o.o.</option>
                <option value="Kiwa">Kiwa Polska Sp. z o.o.</option>
                <option value="Cobico">Biuro Certyfikacji COBICO</option>
                <option value="GwarantowanaJakosc">Krajowe Centrum Badań i Certyfikacji "Gwarantowana Jakość"</option>
                <option value="Biocert">BIOCERT MAŁOPOLSKA Sp. z o.o.</option>
                <option value="eCO2">eCO2 Sp. z o.o.</option>
            </select>
            <span asp-validation-for="JednostkaCertyfikujaca" class="text-danger"></span>
        </div>

        <div class="legend-section container-custom">
            <p><strong>* Zaznacz właściwe</strong></p>
            <p><strong>** W przypadku wędlin proszę podać rodzaj wędlin i grupę asortymentową</strong></p>
        </div>

        <!-- ===================== Załączniki ===================== -->
        <strong class="fw-bold">Do zgłoszenia załączam:</strong>
        <div class="form-check-custom" style="margin-top: 5px;">
            <input asp-for="Zal_DokumentyStatus" class="form-check-input-custom" type="checkbox" />
            <label class="form-check-label">dokumenty potwierdzające status zgłaszającego (np. NIP, REGON, wypis z rejestru gruntów, mapy z zaznaczonymi działkami ewidencyjnymi i rolnymi, rodzaj uprawy w przypadku gospodarstw rolnych),</label>
        </div>
        <div class="form-check-custom">
            <input asp-for="Zal_PlanySytuacyjne" class="form-check-input-custom" type="checkbox" />
            <label class="form-check-label">plany sytuacyjne budynków inwentarskich, produkcyjnych, magazynów i innych budynków pomocniczych znajdujących się na terenie gospodarstwa lub przedsiębiorstwa,</label>
        </div>
        <div class="form-check-custom">
            <input asp-for="Zal_PlanyProdukcyjne" class="form-check-input-custom" type="checkbox" />
            <label class="form-check-label">plany produkcyjne określające wielkość i rodzaj produkcji (w przypadku gospodarstw rolnych: plany produkcji roślinnej, plany produkcji zwierzęcej),</label>
        </div>
        <div class="form-check-custom">
            <input asp-for="Zal_SkladProduktu" class="form-check-input-custom" type="checkbox" />
            <label class="form-check-label">skład produktu wraz z określeniem wydajności, a przypadku gospodarstw rolnych szacowną wielkość produkcji zwierzęcej,</label>
        </div>

        <!-- ===================== Data i miesce złożenia formularza ===================== -->
        <div style="margin-top: 30px;">
            <strong>Data i miejsce złożenia formularza:</strong>
            <div style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
                <input asp-for="DataZlozenia" type="date" class="form-control-custom" style="width: 150px;" />
                <input asp-for="MiejsceZlozenia" type="text" class="form-control-custom" style="flex: 1;" placeholder="Miejsce" />
            </div>
            <div style="margin-top: 2px;">
                <span asp-validation-for="DataZlozenia" class="text-danger"></span>
                <span asp-validation-for="MiejsceZlozenia" class="text-danger"></span>
            </div>
        </div>


        <!-- ===================== Przyciski ===================== -->
        <div class="mt-4 text-center no-print pb-2">
            <button type="submit" class="btn-custom btn-success-custom">Zapisz w systemie</button>
            <button type="button" onclick="window.print()" class="btn-custom btn-info-custom">Drukuj / PDF</button>
        </div>
    </form>

    <!-- ===================== Pobierz XML ===================== -->
    <form asp-action="DownloadXml" method="post" class="no-print text-center">
        @Html.AntiForgeryToken()
        @foreach (var prop in ViewData.ModelMetadata.Properties)
        {
            if (prop.PropertyName != null)
            {
                <input type="hidden" name="@prop.PropertyName"
                       value="@Model?.GetType().GetProperty(prop.PropertyName)?.GetValue(Model)" />
            }
        }
        <button type="submit" class="btn-custom btn-warning-custom">Pobierz XML</button>
    </form>


    <!-- ===================== Stopka ===================== -->
    <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin-top: 20px;">
        <img src="~/images/upemi.jpg" alt="Logo upemi" style="max-height: 120px; width: auto;" />
        <div style="text-align: left;">
            <p style="margin: 0;">ul. Solec 18 lok. u51, 00-410 Warszawa, Polska</p>
            <p style="margin: 0;">Tel/fax: +48 22 696 52 70</p>
            <p style="margin: 0;">www.qafp.pl, qafp@upemi.pl</p>
        </div>
    </div>

</div>

@section Scripts {
@{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

<script>
    document.getElementById('add-produkcja').addEventListener('click', function () {
        const list = document.getElementById('produkcje-list');
        const index = list.children.length;
        const div = document.createElement('div');
        div.className = 'produkcja-item mb-2';
        div.style.display = 'flex';
        div.style.alignItems = 'flex-start';
        div.style.gap = '10px';

        div.innerHTML = `
            <div style="flex: 2;">
                <label for="Produkcje_${index}__RodzajProdukcji" class="form-label-custom">Rodzaj produkcji:</label>
                <input name="Produkcje[${index}].RodzajProdukcji" class="form-control-custom" />
            </div>
            <div style="flex: 1;">
                <label for="Produkcje_${index}__WielkoscProdukcji" class="form-label-custom">Wielkość produkcji (rocznie):</label>
                <input name="Produkcje[${index}].WielkoscProdukcji" class="form-control-custom" />
            </div>
            <div style="display: flex; flex-direction: column; justify-content: flex-end;">
                <button type="button" class="btn btn-danger btn-sm remove-produkcja" style="margin-top: 24px;">Usuń</button>
            </div>
        `;

        list.appendChild(div);

        div.querySelector('.remove-produkcja').addEventListener('click', function () {
            div.remove();
        });
    });

    document.querySelectorAll('.remove-produkcja').forEach(btn => {
        btn.addEventListener('click', function () {
            btn.parentElement.parentElement.remove();
        });
    });
</script>
}


